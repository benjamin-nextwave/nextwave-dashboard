# Milestone v1.0: MVP

**Status:** SHIPPED 2026-02-08
**Phases:** 1-4
**Total Plans:** 14

## Overview

Personal client management dashboard for a cold email agency, delivering company management, Gantt chart timeline visualization, and daily task overview with overdue-rolling mechanic. Built with Next.js 16 (App Router) + Supabase + Tailwind CSS + shadcn/ui.

## Phases

### Phase 1: Foundation & App Shell
**Goal**: The application runs with a working database, consistent date handling in Dutch/Amsterdam timezone, dark/light mode, and navigation between all pages
**Depends on**: Nothing (first phase)
**Requirements**: FOUN-01, FOUN-02, FOUN-03, FOUN-04, FOUN-05, FOUN-06, UIST-01, UIST-02, UIST-03, UIST-06, UIST-07
**Success Criteria** (what must be TRUE):
  1. The app renders in the browser with navigation links to Dashboard, Gantt, and Bedrijven pages, with the active page visually indicated
  2. Dark mode toggle switches between light and dark themes, the preference survives a full page reload without any flash of wrong theme
  3. Dates displayed anywhere in the app use Dutch formatting (e.g., "Maandag 10 februari 2025"), weeks start on Monday, and all date computation uses Europe/Amsterdam timezone
  4. The Supabase database contains `companies` and `tasks` tables with proper foreign key relationships and cascade deletes, queryable from the running application
  5. The overdue-rolling utility correctly computes effective_deadline as max(deadline, today) and calculates days_overdue for incomplete tasks with past deadlines
**Plans**: 4 plans

Plans:
- [x] 01-01-PLAN.md — Scaffold Next.js 16 project with shadcn/ui, database types, and Supabase client
- [x] 01-02-PLAN.md — Date utilities with Dutch locale/Amsterdam timezone and dark/light theme system
- [x] 01-03-PLAN.md — Overdue-rolling computation (TDD)
- [x] 01-04-PLAN.md — Navigation, page shells, and root layout assembly with providers

### Phase 2: Company Management & Default Tasks
**Goal**: Users can create, view, edit, and manage companies with all client profile fields, and every new company automatically receives 6 correctly-configured default tasks
**Depends on**: Phase 1
**Requirements**: COMP-01, COMP-02, COMP-03, COMP-04, COMP-05, COMP-06, COMP-07, COMP-08, DTSK-01, DTSK-02, DTSK-03, DTSK-04, DTSK-05, DTSK-06, DTSK-07, DTSK-08
**Success Criteria** (what must be TRUE):
  1. The Bedrijven overview page shows a grid of company cards displaying name, go-live date, and open task count, with a working "+ Nieuw bedrijf" button that creates a company
  2. Creating a company automatically generates 6 default tasks starting from warmup_start_date (1 day apart), with correct titles, and only the "onboarding call" task has an editable deadline
  3. A company detail page shows all four sections (Basisgegevens, Klantprofiel, Mailvarianten, Feedback & Planning) with editable fields that auto-save on blur with a visible save indicator, plus a manual save button
  4. The back button on the detail page returns to the companies overview
**Plans**: 4 plans

Plans:
- [x] 02-01-PLAN.md — Default task generation logic (TDD)
- [x] 02-02-PLAN.md — shadcn/ui component install and Supabase data access layer
- [x] 02-03-PLAN.md — Company overview page with card grid and creation dialog
- [x] 02-04-PLAN.md — Company detail page with 4 sections, auto-save, and back navigation

### Phase 3: Gantt Chart & Task Management
**Goal**: Users can visualize all company warmup timelines on a horizontal Gantt chart, see task markers at their deadline positions, and create/edit/complete/delete tasks directly from the Gantt view
**Depends on**: Phase 2
**Requirements**: GANT-01, GANT-02, GANT-03, GANT-04, GANT-05, GANT-06, GANT-07, GANT-08, GANT-09, UIST-04, UIST-05
**Success Criteria** (what must be TRUE):
  1. The Gantt page shows a left sidebar with company names and a horizontally scrollable timeline grid with day columns, company warmup bars spanning warmup_start_date to go_live_date, and today's column highlighted
  2. Tasks appear as colored markers (red for pending, green for completed) at their deadline position within each company's row, with overdue tasks showing a -N delay badge
  3. Clicking a task marker opens an edit overlay with editable title, urgency toggle, notes, completion checkbox, save/cancel, and delete with confirmation; clicking a company name opens an overlay listing all its tasks
  4. The "+ Nieuwe taak" button on each company row creates a new task with title and deadline fields, and the task immediately appears on the Gantt timeline
  5. Arrow buttons and horizontal scroll navigate the timeline, and a "Vandaag" button jumps back to the current date view (default view shows 14 days starting from current week)
**Plans**: 3 plans

Plans:
- [x] 03-01-PLAN.md — shadcn/ui components, task CRUD data access, and gantt-utils timeline utilities
- [x] 03-02-PLAN.md — Gantt chart CSS Grid layout with sticky sidebar, company rows, warmup bars, task markers, and timeline navigation
- [x] 03-03-PLAN.md — Task edit, task create, and company tasks dialog overlays wired into Gantt page

### Phase 4: Homepage & Daily Overview
**Goal**: Users open the dashboard and immediately see what needs attention today -- a Dutch date header, a progress donut, and a sorted list of today's tasks with overdue badges
**Depends on**: Phase 3
**Requirements**: HOME-01, HOME-02, HOME-03, HOME-04, HOME-05, HOME-06, HOME-07
**Success Criteria** (what must be TRUE):
  1. The homepage shows "Vandaag" with the current date formatted in Dutch (e.g., "Maandag 10 februari 2025") and a progress donut chart showing completed/total ratio with a numeric counter in the center
  2. The task list displays all tasks with effective deadline of today (including overdue tasks rolled forward), each showing company name, task title, and a red overdue badge (-1, -2 etc.) when applicable
  3. Completed tasks appear with strikethrough and green checkmark; tasks are sorted with urgent first, then most overdue first, then alphabetical
  4. Clicking a task on the homepage opens the same edit overlay used in the Gantt view, allowing edits without leaving the homepage
**Plans**: 3 plans

Plans:
- [x] 04-01-PLAN.md — Homepage data layer with TDD: task fetch, filter, and sort logic
- [x] 04-02-PLAN.md — Presentational UI components: DailyHeader, ProgressDonut, TodayTaskRow
- [x] 04-03-PLAN.md — Page assembly: wire data layer + UI components + TaskEditDialog overlay

---

## Milestone Summary

**Key Decisions:**
- Client-side overdue rolling (compute at render time, no DB mutations)
- No authentication (personal single-user tool)
- Supabase singleton pattern (no @supabase/ssr, no cookie management)
- Manual database types matching SQL schema
- date-fns for all date manipulation, Amsterdam timezone throughout
- Vitest for TDD, semantic Tailwind color classes
- Overlay state machine pattern for dialog management
- force-dynamic on pages to prevent SSR prerender failures

**Issues Resolved:**
- Vitest @/ path alias resolution (switched to relative imports in lib modules)
- Supabase env var validation during tests (vi.mock pattern)
- Timezone offset issues with date parsing (T00:00:00 suffix)

**Issues Deferred:**
- Auto-generated Supabase types (using manual types for now)
- Vitest path alias configuration (using relative imports as workaround)

**Technical Debt Incurred:**
- Relative imports in src/lib/ for vitest compatibility (should add vitest path alias config)
- Manual database types (should switch to supabase gen types)

---

_For current project status, see .planning/ROADMAP.md_
